<section>
  <div class="container-fluid grid-2-desktop">
    <div class="card">
      <div class="card-header">
        <p class="fw-600">Create history - {{ userData?.fullname }}</p>
      </div>

      <hr />

      <form
        class="margin-top"
        [formGroup]="historyForm"
        (ngSubmit)="onSubmit()"
      >
        <div class="body">
          <div class="form-group margin-top-2">
            <label for="type">Type</label>
            <select
              name="type"
              class="border-radius-5 bg-transparent w-100"
              id="type"
              (change)="changeType($event)"
              formControlName="type"
            >
              <option value="0">Bank Deposit</option>
              <option value="1">Cryto Deposit</option>
              <option value="2">Transfer</option>
            </select>
          </div>

          @if(type !== 0) {
          <div class="form-group margin-top-2">
            <label for="abbreviation">Network</label>
            <select
              (change)="changeNetwork($event)"
              name="abbreviation"
              class="border-radius-5 bg-transparent w-100"
              id="abbreviation"
              formControlName="abbreviation"
            >
              <option value="btc">BTC</option>
              <option value="usdt">USDT</option>
              <option value="eth">ETH</option>
              <option value="bnb">BNB</option>
            </select>
          </div>
          }@else {
          <div class="form-group margin-top-2">
            <label for="abbreviation">abbreviation</label>
            <select
              (change)="changeNetwork($event)"
              name="abbreviation"
              class="border-radius-5 bg-transparent w-100"
              id="abbreviation"
              formControlName="abbreviation"
            >
              <option value="usdt">USDT</option>
            </select>
          </div>
          }

          <div class="form-group margin-top-2">
            <label for="type_amount">Amount</label>
            <input
              (input)="setValue()"
              type="number"
              name="type_amount"
              class="border-radius-5 bg-transparent w-100"
              placeholder="Enter amount"
              id="type_amount"
              formControlName="type_amount"
            />
          </div>
          <small>Value: {{ amount }} USDT</small>

          <div class="form-group margin-top-2">
            <label for="address">Address</label>
            <input
              type="text"
              name="address"
              class="border-radius-5 bg-transparent w-100"
              placeholder="Enter address"
              id="address"
              formControlName="address"
            />
          </div>

          <button
            [disabled]="!historyForm.valid"
            type="button"
            (click)="this.toggleConfirmModal()"
            class="btn btn-pill btn-primary margin-top-2 w-100"
          >
            Create History
          </button>
        </div>

        <app-confirmation-dialog [(isConfirm)]="isConfirm" />
      </form>
    </div>
  </div>
</section>
